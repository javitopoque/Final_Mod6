{"ast":null,"code":"import Swal from \"sweetalert2\";\nimport axios from \"axios\";\nexport function show_alerta(mensaje, icono, foco = '') {\n  if (foco !== '') {\n    document.getElementById(foco).focus();\n  }\n  Swal.fire({\n    title: mensaje,\n    icon: icono,\n    customClass: {\n      confirmButton: 'btn btn-primary',\n      popup: 'animated zoomIn'\n    },\n    buttonsStyling: false\n  });\n}\nexport function confirmar(id, name) {\n  var url = 'http://localhost:3001/Activos/' + id;\n  const swalwithBootstrapButtons = Swal.mixin({\n    customClass: {\n      confirmButton: 'btn btn-succes me-3',\n      cancelButton: 'btn btn-danger'\n    },\n    buttonsStyling: false\n  });\n  swalwithBootstrapButtons.fire({\n    title: 'Seguro de eliminar el activo ' + name,\n    text: 'Se perdera la informacion del activo',\n    icon: 'question',\n    showCancelButton: true,\n    confirmButtonText: '<i class=\"fa-solid fa-check\"></i> Si, eliminar',\n    cancelButtonText: '<i class=\"fa-solid fa-check\"></i> Cancelar'\n  }).then(result => {\n    if (result.isConfirmed) {\n      enviarSolicitud('delete', {\n        id: id\n      }, url, 'Producto eliminado');\n    } else {\n      show_alerta('Operacion cancelada', 'info');\n    }\n  });\n}\nexport async function enviarSolicitud(metodo, parametros, url, mensaje) {\n  console.log(\"entro\", metodo, parametros, url, mensaje);\n  axios({\n    method: metodo,\n    url: url,\n    data: parametros\n  }).then(function (response) {\n    // const res = await axios.delete('https://httpbin.org/delete');\n\n    // res.status; \n    //await axios.delete(url).then((response) => {\n    console.log(\"data\", data);\n    var status = response.data[0]['status'];\n    if (status === 'success') {\n      console.log(\"true\");\n      show_alerta(mensaje, status);\n      windows.setTimeout(function () {\n        window.location.href = '/homeactivo';\n      }, 1000);\n    } else {\n      var listado = '';\n      var errores = respuesta.data[1]['errors'];\n      console.log(\"false\");\n      Object.keys(errores).forEach(key => listado += errores[key][0] + '.');\n      show_alerta(listado, 'error');\n    }\n  }).catch(function (error) {\n    // window.location.href = '/homeactivo';\n    // show_alerta('Error en la solicitud','error');\n    console.log(\"data\", data);\n    var status = response.data[0]['status'];\n    if (status === 'success') {\n      console.log(\"true\");\n      show_alerta(mensaje, status);\n      windows.setTimeout(function () {\n        window.location.href = '/homeactivo';\n      }, 1000);\n    } else {\n      var listado = '';\n      var errores = respuesta.data[1]['errors'];\n      console.log(\"false\");\n      Object.keys(errores).forEach(key => listado += errores[key][0] + '.');\n      show_alerta(listado, 'error');\n    }\n  });\n}","map":{"version":3,"names":["Swal","axios","show_alerta","mensaje","icono","foco","document","getElementById","focus","fire","title","icon","customClass","confirmButton","popup","buttonsStyling","confirmar","id","name","url","swalwithBootstrapButtons","mixin","cancelButton","text","showCancelButton","confirmButtonText","cancelButtonText","then","result","isConfirmed","enviarSolicitud","metodo","parametros","console","log","method","data","response","status","windows","setTimeout","window","location","href","listado","errores","respuesta","Object","keys","forEach","key","catch","error"],"sources":["/home/xavi/Documentos/Dilpmado Full/mod 6 Desarrollo Frontend con VueJS/final/lubricantes/src/funciones.js"],"sourcesContent":["import Swal from \"sweetalert2\";\nimport axios from \"axios\";\n\nexport function show_alerta(mensaje,icono,foco=''){\n    if (foco !=='') {\n        document.getElementById(foco).focus();\n    }\n    Swal.fire({\n        title:mensaje,\n        icon:icono,\n        customClass: {confirmButton: 'btn btn-primary', popup:'animated zoomIn'},\n        buttonsStyling:false\n    });\n}\n\nexport function confirmar(id,name){\n    var url = 'http://localhost:3001/Activos/'+id;\n    const swalwithBootstrapButtons= Swal.mixin({\n        customClass:{confirmButton: 'btn btn-succes me-3',cancelButton:'btn btn-danger'}\n        ,buttonsStyling:false\n    });\n    swalwithBootstrapButtons.fire({\n        title: 'Seguro de eliminar el activo '+name,\n        text: 'Se perdera la informacion del activo',\n        icon:'question',\n        showCancelButton:true,\n        confirmButtonText:'<i class=\"fa-solid fa-check\"></i> Si, eliminar',\n        cancelButtonText: '<i class=\"fa-solid fa-check\"></i> Cancelar'}).then((result) => {\n            if (result.isConfirmed) {\n                enviarSolicitud('delete',{id:id},url,'Producto eliminado');\n            } else {\n                show_alerta('Operacion cancelada','info');\n            }\n        })\n    }\n\n    export async function enviarSolicitud(metodo,parametros,url,mensaje){\n        console.log(\"entro\", metodo, parametros, url, mensaje);\n        axios({method:metodo,url:url,data:parametros}).then(function(response) {\n        // const res = await axios.delete('https://httpbin.org/delete');\n\n        // res.status; \n        //await axios.delete(url).then((response) => {\n            console.log(\"data\", data);\n            var status = response.data[0]['status'];\n            if (status === 'success') {\n                console.log(\"true\");\n                show_alerta(mensaje, status);\n                windows.setTimeout(function () {\n                    window.location.href = '/homeactivo';\n                }, 1000);\n            }\n            else {\n                var listado = '';\n                var errores = respuesta.data[1]['errors'];\n                console.log(\"false\");\n                Object.keys(errores).forEach(\n                    key => listado += errores[key][0] + '.'\n                );\n                show_alerta(listado, 'error');\n            }\n        }).catch(function(error){\n            // window.location.href = '/homeactivo';\n            // show_alerta('Error en la solicitud','error');\n            console.log(\"data\", data);\n            var status = response.data[0]['status'];\n            if (status === 'success') {\n                console.log(\"true\");\n                show_alerta(mensaje, status);\n                windows.setTimeout(function () {\n                    window.location.href = '/homeactivo';\n                }, 1000);\n            }\n            else {\n                var listado = '';\n                var errores = respuesta.data[1]['errors'];\n                console.log(\"false\");\n                Object.keys(errores).forEach(\n                    key => listado += errores[key][0] + '.'\n                );\n                show_alerta(listado, 'error');\n            }\n        });\n    }"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}