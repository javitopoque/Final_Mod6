{"ast":null,"code":"import Swal from \"sweetalert2\";\nimport axios from \"axios\";\nexport function show_alerta(mensaje, icono, foco = '') {\n  if (foco !== '') {\n    document.getElementById(foco).focus();\n  }\n  Swal.fire({\n    title: mensaje,\n    icon: icono,\n    customClass: {\n      confirmButton: 'btn btn-primary',\n      popup: 'animated zoomIn'\n    },\n    buttonsStyling: false\n  });\n}\nexport function confirmar(id, name, url, tabla) {\n  var url = url + id;\n  const swalwithBootstrapButtons = Swal.mixin({\n    customClass: {\n      confirmButton: 'btn btn-succes me-3',\n      cancelButton: 'btn btn-danger'\n    },\n    buttonsStyling: false\n  });\n  swalwithBootstrapButtons.fire({\n    title: 'Seguro de eliminar el activo ' + name,\n    text: 'Se perdera la informacion del activo',\n    icon: 'question',\n    showCancelButton: true,\n    confirmButtonText: '<i class=\"fa-solid fa-check\"></i> Si, eliminar',\n    cancelButtonText: '<i class=\"fa-solid fa-check\"></i> Cancelar'\n  }).then(result => {\n    if (result.isConfirmed) {\n      enviarSolicitud('delete', {\n        id: id\n      }, url, 'Eliminado', tabla);\n    } else {\n      show_alerta('Operacion cancelada', 'info');\n    }\n  });\n}\nexport function enviarSolicitud(metodo, parametros, url, mensaje, tabla) {\n  console.log(\"entro\", metodo, parametros, url, mensaje);\n  axios({\n    method: metodo,\n    url: url,\n    data: parametros\n  }).then(function (respuesta) {\n    //axios.delete(url).then(function(respuesta) {\n    console.log(\"data\", data);\n    var status = respuesta.data[0]['status'];\n    if (status === 'success') {\n      console.log(\"true\");\n      show_alerta(mensaje, status);\n      windows.setTimeout(function () {\n        window.location.href = '/homeactivo';\n      }, 1000);\n    } else {\n      var listado = '';\n      var errores = respuesta.data[1]['errors'];\n      console.log(\"false\");\n      Object.keys(errores).forEach(key => listado += errores[key][0] + '.');\n      show_alerta(listado, 'error');\n    }\n  }).catch(function (error) {\n    //show_alerta('Guardado','ok');\n    if (tabla === 1) {\n      window.location.href = '/homeactivo';\n    } else if (tabla === 2) {\n      window.location.href = '/homeinventario';\n    } else {\n      window.location.href = '/homeusuario';\n    }\n  });\n}","map":{"version":3,"names":["Swal","axios","show_alerta","mensaje","icono","foco","document","getElementById","focus","fire","title","icon","customClass","confirmButton","popup","buttonsStyling","confirmar","id","name","url","tabla","swalwithBootstrapButtons","mixin","cancelButton","text","showCancelButton","confirmButtonText","cancelButtonText","then","result","isConfirmed","enviarSolicitud","metodo","parametros","console","log","method","data","respuesta","status","windows","setTimeout","window","location","href","listado","errores","Object","keys","forEach","key","catch","error"],"sources":["/home/xavi/Documentos/Dilpmado Full/mod 6 Desarrollo Frontend con VueJS/final/lubricantes/src/funciones.js"],"sourcesContent":["import Swal from \"sweetalert2\";\nimport axios from \"axios\";\n\nexport function show_alerta(mensaje,icono,foco=''){\n    if (foco !=='') {\n        document.getElementById(foco).focus();\n    }\n    Swal.fire({\n        title:mensaje,\n        icon:icono,\n        customClass: {confirmButton: 'btn btn-primary', popup:'animated zoomIn'},\n        buttonsStyling:false\n    });\n}\n\nexport function confirmar(id,name,url,tabla){\n    var url = url+id;\n    const swalwithBootstrapButtons= Swal.mixin({\n        customClass:{confirmButton: 'btn btn-succes me-3',cancelButton:'btn btn-danger'}\n        ,buttonsStyling:false\n    });\n    swalwithBootstrapButtons.fire({\n        title: 'Seguro de eliminar el activo '+name,\n        text: 'Se perdera la informacion del activo',\n        icon:'question',\n        showCancelButton:true,\n        confirmButtonText:'<i class=\"fa-solid fa-check\"></i> Si, eliminar',\n        cancelButtonText: '<i class=\"fa-solid fa-check\"></i> Cancelar'}).then((result) => {\n            if (result.isConfirmed) {\n                enviarSolicitud('delete',{id:id},url,'Eliminado',tabla);\n            } else {\n                show_alerta('Operacion cancelada','info');\n            }\n        })\n    }\n\n    export function enviarSolicitud(metodo,parametros,url,mensaje,tabla){\n        console.log(\"entro\", metodo, parametros, url, mensaje);\n        axios({method:metodo,url:url,data:parametros}).then(function (respuesta) {\n            //axios.delete(url).then(function(respuesta) {\n            console.log(\"data\", data);\n            var status = respuesta.data[0]['status'];\n            if (status === 'success') {\n                console.log(\"true\");\n                show_alerta(mensaje, status);\n                windows.setTimeout(function () {\n                    window.location.href = '/homeactivo';\n                }, 1000);\n            }\n            else {\n                var listado = '';\n                var errores = respuesta.data[1]['errors'];\n                console.log(\"false\");\n                Object.keys(errores).forEach(\n                    key => listado += errores[key][0] + '.'\n                );\n                show_alerta(listado, 'error');\n            }\n        }).catch(function(error){\n            //show_alerta('Guardado','ok');\n            if (tabla===1) {\n                window.location.href = '/homeactivo';\n            }\n            else if (tabla===2) {\n                window.location.href = '/homeinventario';\n            } else {\n                window.location.href = '/homeusuario';\n            }\n        });\n    }"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}