{"ast":null,"code":"import axios from 'axios';\nimport { confirmar, show_alerta } from '../../funciones';\nimport Swal from \"sweetalert2\";\nexport default {\n  data() {\n    return {\n      activo: null\n    };\n  },\n  mounted() {\n    this.getActivo();\n  },\n  methods: {\n    getActivo() {\n      axios.get('http://localhost:3000/Activos').then(response => this.activo = response.data);\n    },\n    eliminar(id, nombre) {\n      //confirmar(id,nombre);\n      const swalwithBootstrapButtons = Swal.mixin({\n        customClass: {\n          confirmButton: 'btn btn-succes me-3',\n          cancelButton: 'btn btn-danger'\n        },\n        buttonsStyling: false\n      });\n      swalwithBootstrapButtons.fire({\n        title: 'Seguro de eliminar el activo ' + name,\n        text: 'Se perdera la informacion del activo',\n        icon: 'question',\n        showCancelButton: true,\n        confirmButtonText: '<i class=\"fa-solid fa-check\"></i> Si, eliminar',\n        cancelButtonText: '<i class=\"fa-solid fa-check\"></i> Cancelar'\n      }).then(result => {\n        if (result.isConfirmed) {\n          //enviarSolicitud('delete', { id: id }, url, 'Producto eliminado');\n          this.axios.delete('http://localhost:3000/Activos/' + id).then(response => {\n            console.log(\"data\", data);\n            var status = response.data[0]['status'];\n            if (status === 'success') {\n              console.log(\"true\");\n              show_alerta(mensaje, status);\n              windows.setTimeout(function () {\n                window.location.href = '/homeactivo';\n              }, 1000);\n            } else {\n              var listado = '';\n              var errores = respuesta.data[1]['errors'];\n              console.log(\"false\");\n              Object.keys(errores).forEach(key => listado += errores[key][0] + '.');\n              show_alerta(listado, 'error');\n            }\n          }).catch(function (error) {\n            //window.location.href = '/homeactivo';\n            show_alerta('Error en la solicitud', 'error');\n          });\n        } else {\n          show_alerta('Operacion cancelada', 'info');\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","confirmar","show_alerta","Swal","data","activo","mounted","getActivo","methods","get","then","response","eliminar","id","nombre","swalwithBootstrapButtons","mixin","customClass","confirmButton","cancelButton","buttonsStyling","fire","title","name","text","icon","showCancelButton","confirmButtonText","cancelButtonText","result","isConfirmed","delete","console","log","status","mensaje","windows","setTimeout","window","location","href","listado","errores","respuesta","Object","keys","forEach","key","catch","error"],"sources":["/home/xavi/Documentos/Dilpmado Full/mod 6 Desarrollo Frontend con VueJS/final/lubricantes/src/views/activo/HomeActivo.vue"],"sourcesContent":["<template>\n    <div class=\"row\">\n        <div class=\"col-lg-8 offset-lg-2\">\n            <div class=\"table-responsive\">\n                <table class=\"table table-bordered table-hover\">\n                    <thead><tr><th>#</th><th>NOMBRE</th><th>DESCRIPCION</th><th>COLOR</th><th>COSTO</th><th>ACCIONES</th></tr></thead>\n                        <tbody class=\"table-group-divider\" id=\"contenido\">\n                            <tr v-for=\"acti, i in activo\" :key=\"acti.id\">\n                            <td>{{ (i + 1) }}</td>\n                            <td>{{ acti.nombre }}</td>\n                            <td>{{ acti.descripcion }}</td>\n                            <td>{{ acti.color }}</td>\n                            <td>${{new Intl.NumberFormat('es-bo').format(acti.costo) }}</td>\n                            <td>\n                                <router-link :to=\"{path:'edit/'+acti.id}\" class=\"btn btn-warning\">\n                                    <i class=\"fa-solid fa-edit\"></i>\n                                </router-link> &nbsp;\n                                <button class=\"btn btn-danger\" v-on:click=\"eliminar(acti.id,acti.nombre)\">\n                                    <i class=\"fa-solid fa-trash\"></i>\n                                </button>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\n    import axios from 'axios';\n    import { confirmar, show_alerta } from '../../funciones'\n    import Swal from \"sweetalert2\";\n    export default{\n        data(){\n            return{ activo:null}\n        },\n        mounted(){\n            this.getActivo();\n        },\n        methods: {\n            getActivo(){\n                axios.get('http://localhost:3000/Activos').then(\n                    response => (\n                        this.activo = response.data\n                    )\n                );\n            },\n            eliminar(id,nombre){\n                //confirmar(id,nombre);\n            const swalwithBootstrapButtons = Swal.mixin({\n                customClass: { confirmButton: 'btn btn-succes me-3', cancelButton: 'btn btn-danger' }\n                , buttonsStyling: false\n            });\n            swalwithBootstrapButtons.fire({\n                title: 'Seguro de eliminar el activo ' + name,\n                text: 'Se perdera la informacion del activo',\n                icon: 'question',\n                showCancelButton: true,\n                confirmButtonText: '<i class=\"fa-solid fa-check\"></i> Si, eliminar',\n                cancelButtonText: '<i class=\"fa-solid fa-check\"></i> Cancelar'\n            }).then((result) => {\n                if (result.isConfirmed) {\n                    //enviarSolicitud('delete', { id: id }, url, 'Producto eliminado');\n                    this.axios.delete('http://localhost:3000/Activos/'+id).then((response) => {\n                        console.log(\"data\", data);\n                        var status = response.data[0]['status'];\n                        if (status === 'success') {\n                            console.log(\"true\");\n                            show_alerta(mensaje, status);\n                            windows.setTimeout(function () {\n                                window.location.href = '/homeactivo';\n                            }, 1000);\n                        }\n                        else {\n                            var listado = '';\n                            var errores = respuesta.data[1]['errors'];\n                            console.log(\"false\");\n                            Object.keys(errores).forEach(\n                                key => listado += errores[key][0] + '.'\n                            );\n                            show_alerta(listado, 'error');\n                        }\n                    }).catch(function (error) {\n                        //window.location.href = '/homeactivo';\n                        show_alerta('Error en la solicitud', 'error');\n\n                    });\n                } else {\n                    show_alerta('Operacion cancelada', 'info');\n                }\n            })\n\n            }\n        }\n    }\n</script>"],"mappings":"AA6BI,OAAOA,KAAI,MAAO,OAAO;AACzB,SAASC,SAAS,EAAEC,WAAU,QAAS,iBAAgB;AACvD,OAAOC,IAAG,MAAO,aAAa;AAC9B,eAAc;EACVC,IAAIA,CAAA,EAAE;IACF,OAAM;MAAEC,MAAM,EAAC;IAAI;EACvB,CAAC;EACDC,OAAOA,CAAA,EAAE;IACL,IAAI,CAACC,SAAS,CAAC,CAAC;EACpB,CAAC;EACDC,OAAO,EAAE;IACLD,SAASA,CAAA,EAAE;MACPP,KAAK,CAACS,GAAG,CAAC,+BAA+B,CAAC,CAACC,IAAI,CAC3CC,QAAO,IACH,IAAI,CAACN,MAAK,GAAIM,QAAQ,CAACP,IAE/B,CAAC;IACL,CAAC;IACDQ,QAAQA,CAACC,EAAE,EAACC,MAAM,EAAC;MACf;MACJ,MAAMC,wBAAuB,GAAIZ,IAAI,CAACa,KAAK,CAAC;QACxCC,WAAW,EAAE;UAAEC,aAAa,EAAE,qBAAqB;UAAEC,YAAY,EAAE;QAAiB;QAClFC,cAAc,EAAE;MACtB,CAAC,CAAC;MACFL,wBAAwB,CAACM,IAAI,CAAC;QAC1BC,KAAK,EAAE,+BAA8B,GAAIC,IAAI;QAC7CC,IAAI,EAAE,sCAAsC;QAC5CC,IAAI,EAAE,UAAU;QAChBC,gBAAgB,EAAE,IAAI;QACtBC,iBAAiB,EAAE,gDAAgD;QACnEC,gBAAgB,EAAE;MACtB,CAAC,CAAC,CAAClB,IAAI,CAAEmB,MAAM,IAAK;QAChB,IAAIA,MAAM,CAACC,WAAW,EAAE;UACpB;UACA,IAAI,CAAC9B,KAAK,CAAC+B,MAAM,CAAC,gCAAgC,GAAClB,EAAE,CAAC,CAACH,IAAI,CAAEC,QAAQ,IAAK;YACtEqB,OAAO,CAACC,GAAG,CAAC,MAAM,EAAE7B,IAAI,CAAC;YACzB,IAAI8B,MAAK,GAAIvB,QAAQ,CAACP,IAAI,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC;YACvC,IAAI8B,MAAK,KAAM,SAAS,EAAE;cACtBF,OAAO,CAACC,GAAG,CAAC,MAAM,CAAC;cACnB/B,WAAW,CAACiC,OAAO,EAAED,MAAM,CAAC;cAC5BE,OAAO,CAACC,UAAU,CAAC,YAAY;gBAC3BC,MAAM,CAACC,QAAQ,CAACC,IAAG,GAAI,aAAa;cACxC,CAAC,EAAE,IAAI,CAAC;YACZ,OACK;cACD,IAAIC,OAAM,GAAI,EAAE;cAChB,IAAIC,OAAM,GAAIC,SAAS,CAACvC,IAAI,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC;cACzC4B,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC;cACpBW,MAAM,CAACC,IAAI,CAACH,OAAO,CAAC,CAACI,OAAO,CACxBC,GAAE,IAAKN,OAAM,IAAKC,OAAO,CAACK,GAAG,CAAC,CAAC,CAAC,IAAI,GACxC,CAAC;cACD7C,WAAW,CAACuC,OAAO,EAAE,OAAO,CAAC;YACjC;UACJ,CAAC,CAAC,CAACO,KAAK,CAAC,UAAUC,KAAK,EAAE;YACtB;YACA/C,WAAW,CAAC,uBAAuB,EAAE,OAAO,CAAC;UAEjD,CAAC,CAAC;QACN,OAAO;UACHA,WAAW,CAAC,qBAAqB,EAAE,MAAM,CAAC;QAC9C;MACJ,CAAC;IAED;EACJ;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}