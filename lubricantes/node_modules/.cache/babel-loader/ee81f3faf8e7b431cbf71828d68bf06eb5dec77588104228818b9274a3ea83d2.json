{"ast":null,"code":"import Swal from \"sweetalert2\";\nimport axios from \"axios\";\nexport function show_alerta(mensaje, icono, foco = '') {\n  if (foco !== '') {\n    document.getElementById(foco).focus();\n  }\n  Swal.fire({\n    title: mensaje,\n    icon: icono,\n    customClass: {\n      confirmButton: 'btn btn-primary',\n      popup: 'animated zoomIn'\n    },\n    buttonsStyling: false\n  });\n}\nexport function confirmar(id, name) {\n  var url = 'http://localhost:3001/Activos/' + id;\n  const swalwithBootstrapButtons = Swal.mixin({\n    customClass: {\n      confirmButton: 'btn btn-succes me-3',\n      cancelButton: 'btn btn-danger'\n    },\n    buttonsStyling: false\n  });\n  swalwithBootstrapButtons.fire({\n    title: 'Seguro de eliminar el activo' + name,\n    text: 'Se perdera la informacion del activo',\n    icon: 'question',\n    showCancelButton: true,\n    confirmButtonText: '<i class=\"fa-solid fa-check\"></i> Si, eliminar',\n    cancelButtonText: '<i class=\"fa-solid fa-check\"></i> Cancelar'\n  }).then(result => {\n    if (result.isConfirmed) {\n      enviarSolicitud('DELETE', {\n        id: id\n      }, url, 'Producto eliminado');\n    } else {\n      show_alerta('Operacion cancelada', 'info');\n    }\n  });\n}\nexport function enviarSolicitud(metodo, parametros, url, mensaje) {\n  axios({\n    method: metodo,\n    url: url,\n    data: parametros\n  }).then(function (respuesta) {\n    var status = resùesta.data[0]['status'];\n    if (status === 'success') {\n      show_alerta(mensaje, status);\n      windows.setTimeout(function () {\n        window.location.href = '/';\n      }, 1000);\n    } else {\n      var listado = '';\n      var errores = respuesta.data[1]['errors'];\n      Object.keys(errores).forEach(key => listado += errores[key][0] + '.');\n      show_alerta(listado, 'error');\n    }\n  }).catch(function (error) {\n    show_alerta('Error en la solicitud', 'error');\n  });\n}","map":{"version":3,"names":["Swal","axios","show_alerta","mensaje","icono","foco","document","getElementById","focus","fire","title","icon","customClass","confirmButton","popup","buttonsStyling","confirmar","id","name","url","swalwithBootstrapButtons","mixin","cancelButton","text","showCancelButton","confirmButtonText","cancelButtonText","then","result","isConfirmed","enviarSolicitud","metodo","parametros","method","data","respuesta","status","resùesta","windows","setTimeout","window","location","href","listado","errores","Object","keys","forEach","key","catch","error"],"sources":["/home/xavi/Documentos/Dilpmado Full/mod 6 Desarrollo Frontend con VueJS/final/lubricantes/src/funciones.js"],"sourcesContent":["import Swal from \"sweetalert2\";\nimport axios from \"axios\";\n\nexport function show_alerta(mensaje,icono,foco=''){\n    if (foco !=='') {\n        document.getElementById(foco).focus();\n    }\n    Swal.fire({\n        title:mensaje,\n        icon:icono,\n        customClass: {confirmButton: 'btn btn-primary', popup:'animated zoomIn'},\n        buttonsStyling:false\n    });\n}\n\nexport function confirmar(id,name){\n    var url = 'http://localhost:3001/Activos/'+id;\n    const swalwithBootstrapButtons= Swal.mixin({\n        customClass:{confirmButton: 'btn btn-succes me-3',cancelButton:'btn btn-danger'}\n        ,buttonsStyling:false\n    });\n    swalwithBootstrapButtons.fire({\n        title: 'Seguro de eliminar el activo'+name,\n        text: 'Se perdera la informacion del activo',\n        icon:'question',\n        showCancelButton:true,\n        confirmButtonText:'<i class=\"fa-solid fa-check\"></i> Si, eliminar',\n        cancelButtonText: '<i class=\"fa-solid fa-check\"></i> Cancelar'}).then((result) => {\n            if (result.isConfirmed) {\n                enviarSolicitud('DELETE',{id:id},url,'Producto eliminado');\n            } else {\n                show_alerta('Operacion cancelada','info');\n            }\n        })\n    }\n\n    export function enviarSolicitud(metodo,parametros,url,mensaje){\n        axios({method:metodo,url:url,data:parametros}).then(function(respuesta){\n            var status = resùesta.data[0]['status'];\n            if (status ==='success') {\n                show_alerta(mensaje,status);\n                windows.setTimeout(function() {\n                    window.location.href='/';\n                }, 1000);\n            } else {\n                var listado='';\n                var errores = respuesta.data[1]['errors'];\n                Object.keys(errores).forEach(\n                    key => listado += errores[key][0]+'.'\n                );\n                show_alerta(listado,'error');\n            }\n        }).catch(function(error){\n            show_alerta('Error en la solicitud','error');\n        });\n    }"],"mappings":"AAAA,OAAOA,IAAI,MAAM,aAAa;AAC9B,OAAOC,KAAK,MAAM,OAAO;AAEzB,OAAO,SAASC,WAAWA,CAACC,OAAO,EAACC,KAAK,EAACC,IAAI,GAAC,EAAE,EAAC;EAC9C,IAAIA,IAAI,KAAI,EAAE,EAAE;IACZC,QAAQ,CAACC,cAAc,CAACF,IAAI,CAAC,CAACG,KAAK,CAAC,CAAC;EACzC;EACAR,IAAI,CAACS,IAAI,CAAC;IACNC,KAAK,EAACP,OAAO;IACbQ,IAAI,EAACP,KAAK;IACVQ,WAAW,EAAE;MAACC,aAAa,EAAE,iBAAiB;MAAEC,KAAK,EAAC;IAAiB,CAAC;IACxEC,cAAc,EAAC;EACnB,CAAC,CAAC;AACN;AAEA,OAAO,SAASC,SAASA,CAACC,EAAE,EAACC,IAAI,EAAC;EAC9B,IAAIC,GAAG,GAAG,gCAAgC,GAACF,EAAE;EAC7C,MAAMG,wBAAwB,GAAEpB,IAAI,CAACqB,KAAK,CAAC;IACvCT,WAAW,EAAC;MAACC,aAAa,EAAE,qBAAqB;MAACS,YAAY,EAAC;IAAgB,CAAC;IAC/EP,cAAc,EAAC;EACpB,CAAC,CAAC;EACFK,wBAAwB,CAACX,IAAI,CAAC;IAC1BC,KAAK,EAAE,8BAA8B,GAACQ,IAAI;IAC1CK,IAAI,EAAE,sCAAsC;IAC5CZ,IAAI,EAAC,UAAU;IACfa,gBAAgB,EAAC,IAAI;IACrBC,iBAAiB,EAAC,gDAAgD;IAClEC,gBAAgB,EAAE;EAA4C,CAAC,CAAC,CAACC,IAAI,CAAEC,MAAM,IAAK;IAC9E,IAAIA,MAAM,CAACC,WAAW,EAAE;MACpBC,eAAe,CAAC,QAAQ,EAAC;QAACb,EAAE,EAACA;MAAE,CAAC,EAACE,GAAG,EAAC,oBAAoB,CAAC;IAC9D,CAAC,MAAM;MACHjB,WAAW,CAAC,qBAAqB,EAAC,MAAM,CAAC;IAC7C;EACJ,CAAC,CAAC;AACN;AAEA,OAAO,SAAS4B,eAAeA,CAACC,MAAM,EAACC,UAAU,EAACb,GAAG,EAAChB,OAAO,EAAC;EAC1DF,KAAK,CAAC;IAACgC,MAAM,EAACF,MAAM;IAACZ,GAAG,EAACA,GAAG;IAACe,IAAI,EAACF;EAAU,CAAC,CAAC,CAACL,IAAI,CAAC,UAASQ,SAAS,EAAC;IACnE,IAAIC,MAAM,GAAGC,QAAQ,CAACH,IAAI,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC;IACvC,IAAIE,MAAM,KAAI,SAAS,EAAE;MACrBlC,WAAW,CAACC,OAAO,EAACiC,MAAM,CAAC;MAC3BE,OAAO,CAACC,UAAU,CAAC,YAAW;QAC1BC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAC,GAAG;MAC5B,CAAC,EAAE,IAAI,CAAC;IACZ,CAAC,MAAM;MACH,IAAIC,OAAO,GAAC,EAAE;MACd,IAAIC,OAAO,GAAGT,SAAS,CAACD,IAAI,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC;MACzCW,MAAM,CAACC,IAAI,CAACF,OAAO,CAAC,CAACG,OAAO,CACxBC,GAAG,IAAIL,OAAO,IAAIC,OAAO,CAACI,GAAG,CAAC,CAAC,CAAC,CAAC,GAAC,GACtC,CAAC;MACD9C,WAAW,CAACyC,OAAO,EAAC,OAAO,CAAC;IAChC;EACJ,CAAC,CAAC,CAACM,KAAK,CAAC,UAASC,KAAK,EAAC;IACpBhD,WAAW,CAAC,uBAAuB,EAAC,OAAO,CAAC;EAChD,CAAC,CAAC;AACN"},"metadata":{},"sourceType":"module","externalDependencies":[]}