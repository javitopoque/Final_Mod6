{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"row\"\n};\nconst _hoisted_2 = {\n  class: \"col-lg-8 offset-lg-2\"\n};\nconst _hoisted_3 = {\n  class: \"table-responsive\"\n};\nconst _hoisted_4 = {\n  class: \"table table-bordered table-hover\"\n};\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", null, \"#\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"NOMBRES\"), /*#__PURE__*/_createElementVNode(\"th\", null, \" APELLIDOS\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"CI O NIT\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"MOVILIDAD\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"MARCA\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"MOTOR\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"ROL\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"ACCIONES\")])], -1 /* HOISTED */);\nconst _hoisted_6 = {\n  class: \"table-group-divider\",\n  id: \"contenido\"\n};\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fa-solid fa-edit\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_8 = [\"onClick\"];\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fa-solid fa-trash\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_10 = [_hoisted_9];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_search = _resolveComponent(\"search\");\n  const _component_filter_item = _resolveComponent(\"filter-item\");\n  const _component_filter_group = _resolveComponent(\"filter-group\");\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_search, {\n    placeholder: \"Buscar usuario\",\n    onSearchtext: _cache[0] || (_cache[0] = $event => $options.searchFx($event))\n  }), _createVNode(_component_filter_group, null, {\n    default: _withCtx(() => [_createVNode(_component_filter_item, {\n      items: _ctx.roles,\n      label: \"Rol\",\n      onOnfilter: _cache[1] || (_cache[1] = $event => $options.onFilterFx('rolesId', $event))\n    }, null, 8 /* PROPS */, [\"items\"])]),\n    _: 1 /* STABLE */\n  }), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"table\", _hoisted_4, [_createCommentVNode(\" <search placeholder=\\\"Buscar cliente\\\" @searchtext=\\\"searchFx($event)\\\"></search>\\n                <filter-group>\\n                    <filter-item :items=\\\"states\\\" label=\\\"Departamento\\\"\\n                        @onfilter=\\\"onFilterFx('statesId', $event)\\\"></filter-item>\\n                </filter-group> \"), _hoisted_5, _createElementVNode(\"tbody\", _hoisted_6, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.usuario, (usua, i) => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: usua.id\n    }, [_createElementVNode(\"td\", null, _toDisplayString(i + 1), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(usua.nombres), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(usua.apellidos), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(usua.cionit), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(usua.movilidad), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(usua.marca), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(usua.motor), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(usua.roles.rol), 1 /* TEXT */), _createElementVNode(\"td\", null, [_createVNode(_component_router_link, {\n      to: {\n        path: 'editarusuario/' + usua.id\n      },\n      class: \"btn btn-warning\"\n    }, {\n      default: _withCtx(() => [_hoisted_7]),\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"to\"]), _createTextVNode(\" Â  \"), _createElementVNode(\"button\", {\n      class: \"btn btn-danger\",\n      onClick: $event => $options.eliminar(usua.id, usua.nombres)\n    }, _hoisted_10, 8 /* PROPS */, _hoisted_8)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])])])])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","_createElementVNode","id","_hoisted_9","_createVNode","_component_search","placeholder","onSearchtext","_cache","$event","$options","searchFx","_component_filter_group","_component_filter_item","items","_ctx","roles","label","onOnfilter","onFilterFx","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_createCommentVNode","_hoisted_5","_hoisted_6","_createElementBlock","_Fragment","_renderList","$data","usuario","usua","i","key","_toDisplayString","nombres","apellidos","cionit","movilidad","marca","motor","rol","_component_router_link","to","path","_hoisted_7","onClick","eliminar"],"sources":["/home/xavi/Documentos/Dilpmado Full/mod 6 Desarrollo Frontend con VueJS/final/lubricantes/src/views/usuario/HomeUsuario.vue"],"sourcesContent":["<template v-slot:lista>\n    <search placeholder=\"Buscar usuario\" @searchtext=\"searchFx($event)\"></search>\n<filter-group>\n    <filter-item :items=\"roles\" label=\"Rol\"\n    @onfilter=\"onFilterFx('rolesId', $event)\"></filter-item>\n</filter-group>\n    <div class=\"row\">\n        <div class=\"col-lg-8 offset-lg-2\">\n            <div class=\"table-responsive\">\n                <table class=\"table table-bordered table-hover\">\n                    <!-- <search placeholder=\"Buscar cliente\" @searchtext=\"searchFx($event)\"></search>\n                <filter-group>\n                    <filter-item :items=\"states\" label=\"Departamento\"\n                        @onfilter=\"onFilterFx('statesId', $event)\"></filter-item>\n                </filter-group> -->\n\n                    <thead><tr><th>#</th><th>NOMBRES</th><th>   APELLIDOS</th><th>CI O NIT</th><th>MOVILIDAD</th><th>MARCA</th><th>MOTOR</th><th>ROL</th><th>ACCIONES</th></tr></thead>\n                        <tbody class=\"table-group-divider\" id=\"contenido\">\n                            <tr v-for=\"usua, i in usuario\" :key=\"usua.id\">\n                            <td>{{ (i + 1) }}</td>\n                            <td>{{ usua.nombres }}</td>\n                            <td>{{ usua.apellidos }}</td>\n                            <td>{{ usua.cionit }}</td>\n                            <td>{{ usua.movilidad }}</td>\n                            <td>{{ usua.marca }}</td>\n                            <td>{{ usua.motor }}</td>\n                            <td>{{ usua.roles.rol }}</td>\n                            <td>\n                                <router-link :to=\"{path:'editarusuario/'+usua.id}\" class=\"btn btn-warning\">\n                                    <i class=\"fa-solid fa-edit\"></i>\n                                </router-link> &nbsp;\n                                <button class=\"btn btn-danger\" v-on:click=\"eliminar(usua.id,usua.nombres)\">\n                                    <i class=\"fa-solid fa-trash\"></i>\n                                </button>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\n    import axios from 'axios';\n    import { confirmar } from '../../funciones'\n    import Search from '@/components/Search.vue'\n    import FilterGroup from '@/components/FilterGroup.vue';\n    import FilterItem from '@/components/FilterItem.vue';\n    export default{\n        data(){\n            return{ usuario:null,\n                    toSearch: \"\",\n                    toFilter: \"\"}\n        },\n        mounted(){\n            this.getUsuario();\n        },\n        methods: {\n            onFilterFx(field, event) {\n            if (event === '') {\n                this.toFilter = '';\n            } else {\n                this.toFilter = '&' + field + '=' + event;\n            }\n            this.getUsuario();\n            },\n            getUsuario(){\n                axios.get('http://localhost:3000/usuarios?_expand=roles'+this.toSearch+this.toFilter).then(\n                    response => (\n                        this.usuario = response.data\n                    )\n                );\n            },\n            eliminar(id,nombres){\n                confirmar(id,nombres,'http://localhost:3000/usuarios/',3);\n            },\n            searchFx(event){\n            if (event === \"\") {\n                this.toSearch = '';\n            } else {\n                this.toSearch = '&q=' + event;\n            }\n            this.getUsuario();\n            }\n        },\n        components: {\n        Search,FilterGroup,FilterItem\n    },\n\n    created() {\n        setTimeout(() => {\n            var elems = document.querySelectorAll('select');\n            var select = M.FormSelect.init(elems);\n        });\n    }\n    }\n</script>"],"mappings":";;EAMSA,KAAK,EAAC;AAAK;;EACPA,KAAK,EAAC;AAAsB;;EACxBA,KAAK,EAAC;AAAkB;;EAClBA,KAAK,EAAC;AAAkC;gCAO3CC,mBAAA,CAAmK,gB,aAA5JA,mBAAA,CAAoJ,a,aAAhJA,mBAAA,CAAU,YAAN,GAAC,G,aAAKA,mBAAA,CAAgB,YAAZ,SAAO,G,aAAKA,mBAAA,CAAqB,YAAjB,YAAY,G,aAAKA,mBAAA,CAAiB,YAAb,UAAQ,G,aAAKA,mBAAA,CAAkB,YAAd,WAAS,G,aAAKA,mBAAA,CAAc,YAAV,OAAK,G,aAAKA,mBAAA,CAAc,YAAV,OAAK,G,aAAKA,mBAAA,CAAY,YAAR,KAAG,G,aAAKA,mBAAA,CAAiB,YAAb,UAAQ,E;;EACtID,KAAK,EAAC,qBAAqB;EAACE,EAAE,EAAC;;gCAY1BD,mBAAA,CAAgC;EAA7BD,KAAK,EAAC;AAAkB;;gCAG3BC,mBAAA,CAAiC;EAA9BD,KAAK,EAAC;AAAmB;qBAA5BG,UAAiC,C;;;;;;6DA/BjEC,YAAA,CAA6EC,iBAAA;IAArEC,WAAW,EAAC,gBAAgB;IAAEC,YAAU,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,QAAA,CAAAC,QAAQ,CAACF,MAAM;MACrEL,YAAA,CAGeQ,uBAAA;sBAFX,MACwD,CADxDR,YAAA,CACwDS,sBAAA;MAD1CC,KAAK,EAAEC,IAAA,CAAAC,KAAK;MAAEC,KAAK,EAAC,KAAK;MACtCC,UAAQ,EAAAV,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,QAAA,CAAAS,UAAU,YAAYV,MAAM;;;MAEvCR,mBAAA,CAkCM,OAlCNmB,UAkCM,GAjCFnB,mBAAA,CAgCM,OAhCNoB,UAgCM,GA/BFpB,mBAAA,CA8BM,OA9BNqB,UA8BM,GA7BFrB,mBAAA,CA4BQ,SA5BRsB,UA4BQ,GA3BJC,mBAAA,wTAIe,EAEfC,UAAmK,EAC/JxB,mBAAA,CAmBI,SAnBJyB,UAmBI,I,kBAlBAC,mBAAA,CAiBCC,SAAA,QAAAC,WAAA,CAjBqBC,KAAA,CAAAC,OAAO,GAAlBC,IAAI,EAAEC,CAAC;yBAAlBN,mBAAA,CAiBC;MAjB+BO,GAAG,EAAEF,IAAI,CAAC9B;QAC1CD,mBAAA,CAAsB,YAAAkC,gBAAA,CAAdF,CAAC,sBACThC,mBAAA,CAA2B,YAAAkC,gBAAA,CAApBH,IAAI,CAACI,OAAO,kBACnBnC,mBAAA,CAA6B,YAAAkC,gBAAA,CAAtBH,IAAI,CAACK,SAAS,kBACrBpC,mBAAA,CAA0B,YAAAkC,gBAAA,CAAnBH,IAAI,CAACM,MAAM,kBAClBrC,mBAAA,CAA6B,YAAAkC,gBAAA,CAAtBH,IAAI,CAACO,SAAS,kBACrBtC,mBAAA,CAAyB,YAAAkC,gBAAA,CAAlBH,IAAI,CAACQ,KAAK,kBACjBvC,mBAAA,CAAyB,YAAAkC,gBAAA,CAAlBH,IAAI,CAACS,KAAK,kBACjBxC,mBAAA,CAA6B,YAAAkC,gBAAA,CAAtBH,IAAI,CAAChB,KAAK,CAAC0B,GAAG,kBACrBzC,mBAAA,CAOK,aANDG,YAAA,CAEcuC,sBAAA;MAFAC,EAAE;QAAAC,IAAA,qBAAyBb,IAAI,CAAC9B;MAAE;MAAGF,KAAK,EAAC;;wBACrD,MAAgC,CAAhC8C,UAAgC,C;;kEACtB,KACd,GAAA7C,mBAAA,CAES;MAFDD,KAAK,EAAC,gBAAgB;MAAM+C,OAAK,EAAAtC,MAAA,IAAEC,QAAA,CAAAsC,QAAQ,CAAChB,IAAI,CAAC9B,EAAE,EAAC8B,IAAI,CAACI,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}